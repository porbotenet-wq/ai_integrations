# ROADMAP.md ‚Äî –ü–ª–∞–Ω —Ä–∞–±–æ—Ç STSphera

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞)

- **Auth:** Telegram WebApp initData ‚Üí FastAPI –≤–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí JWT
- **API:** –ì–∏–±—Ä–∏–¥ ‚Äî Supabase RLS –¥–ª—è CRUD, FastAPI –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **–†–æ–ª–∏:** –ï–¥–∏–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ users + object_roles, –±–æ—Ç –Ω–∞–∑–Ω–∞—á–∞–µ—Ç, Mini App —á–∏—Ç–∞–µ—Ç
- **–ë–æ—Ç:** –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, RBAC
- **Mini App:** –î–∞—à–±–æ—Ä–¥—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –ø–ª–∞–Ω/—Ñ–∞–∫—Ç, –¥–æ–∫—É–º–µ–Ω—Ç—ã, –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ

## –§–∞–∑–∞ 4 ‚Äî –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### ‚úÖ –ú–æ–¥—É–ª—å 1: –ü—Ä–æ—Ñ–∏–ª—å + –∫–æ–º–∞–Ω–¥–∞
### ‚úÖ –ú–æ–¥—É–ª—å 2: –ö–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤
### ‚úÖ –ú–æ–¥—É–ª—å 4: –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –ø–æ —Ä–æ–ª–∏

### üîÑ –ú–æ–¥—É–ª—å 3: –ß–∞—Ç—ã –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ TG
- –ü—Ä–∏–≤—è–∑–∫–∞ TG-—á–∞—Ç–∞ –∫ –æ–±—ä–µ–∫—Ç—É/–∑–∞–¥–∞—á–µ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —á–∞—Ç –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞
- Deep links –∏–∑ –±–æ—Ç–∞ –≤ Mini App

### üîÑ –≠—Ç–∞–ø A: AI-—á–∞—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–∞
- Edge Function ai-chat —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –æ–±—ä–µ–∫—Ç–∞
- –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Supabase
- –†–æ–ª—å-–∑–∞–≤–∏—Å–∏–º—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏

## –§–∞–∑–∞ 5 ‚Äî –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –≠—Ç–∞–ø B: FastAPI endpoints –¥–ª—è Mini App
- [ ] `POST /api/auth/telegram` ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è initData, JWT
- [ ] `GET /api/objects` ‚Äî —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] `GET /api/objects/{id}` ‚Äî –¥–µ—Ç–∞–ª–∏ –æ–±—ä–µ–∫—Ç–∞
- [ ] `GET /api/gpr/{object_id}` ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –ì–ü–† —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π
- [ ] `GET /api/dashboard` ‚Äî —Å–≤–æ–¥–∫–∞ –ø–ª–∞–Ω/—Ñ–∞–∫—Ç
- [ ] `GET /api/tasks` ‚Äî –∑–∞–¥–∞—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] `GET /api/production/plan` ‚Äî –ø–ª–∞–Ω –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
- [ ] `GET /api/warehouse/status` ‚Äî —Å–∫–ª–∞–¥ –ì–ü
- [ ] `GET /api/reports/summary` ‚Äî —Å–≤–æ–¥–∫–∞ (–õ–∏—Å—Ç 13)
- [ ] `GET /health` ‚Äî health check

### –≠—Ç–∞–ø C: Mini App ‚Üí FastAPI –º–∏–≥—Ä–∞—Ü–∏—è
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å Mini App auth –Ω–∞ Telegram initData + JWT
- [ ] –£–±—Ä–∞—Ç—å Supabase Auth (email/password)
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å Mini App –∫ FastAPI endpoints
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å Supabase RLS –¥–ª—è –ø—Ä—è–º—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –≠—Ç–∞–ø D: –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞
- [ ] UI: –ó–æ–Ω—ã/–≠—Ç–∞–ø—ã (zones)
- [ ] UI: –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è BOM (bom_items)
- [ ] UI: –ú–∞—Ç–µ—Ä–∏–∞–ª—ã + –¥–µ—Ñ–∏—Ü–∏—Ç (materials)
- [ ] UI: –ü–ª–∞–Ω –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ (production_plan)
- [ ] UI: –°—Ç–∞—Ç—É—Å —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (element_status)
- [ ] UI: –°–∫–ª–∞–¥ –ì–ü (warehouse)
- [ ] UI: –û—Ç–≥—Ä—É–∑–∫–∞ (shipments)
- [ ] UI: –ü–ª–∞–Ω/–§–∞–∫—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π (daily_plan_fact)
- [ ] UI: –°–≤–æ–¥–∫–∞ –ü–ª–∞–Ω/–§–∞–∫—Ç (–∞–≥—Ä–µ–≥–∞—Ü–∏—è)

### –≠—Ç–∞–ø E: Push + 1–° + Google Sheets
- [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å 1–° —á–µ—Ä–µ–∑ REST API
- [ ] Google Sheets —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç

1. **–≠—Ç–∞–ø B** ‚Äî FastAPI endpoints (—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è Mini App)
2. **–≠—Ç–∞–ø C** ‚Äî Auth –º–∏–≥—Ä–∞—Ü–∏—è (–µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
3. **–ú–æ–¥—É–ª—å 3** ‚Äî –ß–∞—Ç—ã –∑–∞–¥–∞—á
4. **–≠—Ç–∞–ø D** ‚Äî –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ (–æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å)
5. **–≠—Ç–∞–ø A** ‚Äî AI-—á–∞—Ç
6. **–≠—Ç–∞–ø E** ‚Äî –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
